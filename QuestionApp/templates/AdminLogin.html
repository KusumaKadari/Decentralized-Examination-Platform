{% extends 'base.html' %}

{% block title %}Admin Login - Secure Question Papers{% endblock %}

{% block extra_js %}
<script>
	function validate(formObj) {
		if (formObj.t1.value.length == 0) {
			alert("Please enter username");
			formObj.t1.focus();
			return false;
		}
		if (formObj.t2.value.length == 0) {
			alert("Please enter password");
			formObj.t2.focus();
			return false;
		}
		return true;
	}

	function togglePassword() {
		var passwordInput = document.getElementById('passwordInput');
		var toggleBtn = document.getElementById('toggleBtn');
		if (passwordInput.type === 'password') {
			passwordInput.type = 'text';
			toggleBtn.textContent = 'ğŸ™ˆ';
		} else {
			passwordInput.type = 'password';
			toggleBtn.textContent = 'ğŸ‘ï¸';
		}
	}
</script>
{% endblock %}

{% block content %}
<div class="login-container">
	<div class="login-card">
		<div class="login-header">
			<div class="login-icon">ğŸ‘¨â€ğŸ’¼</div>
			<h2 class="login-title">Admin Login</h2>
		</div>

		{% if data %}
		<div class="alert alert-info">{{ data|safe }}</div>
		{% endif %}

		<form method="post" action="{% url 'AdminLoginAction' %}" onsubmit="return validate(this)">
			{% csrf_token %}

			<div class="form-group">
				<label class="form-label">Username</label>
				<input type="text" name="t1" class="form-input" placeholder="Enter username">
			</div>

			<div class="form-group">
				<label class="form-label">Password</label>
				<div class="password-wrapper">
					<input type="password" name="t2" id="passwordInput" class="form-input" placeholder="Enter password">
					<button type="button" class="password-toggle" id="toggleBtn" onclick="togglePassword()">ğŸ‘ï¸</button>
				</div>
			</div>

			<button type="submit" class="btn btn-primary" style="width: 100%;">Login</button>
		</form>

		<a href="{% url 'index' %}" class="login-back">â† Back to Home</a>
	</div>
</div>
{% endblock %}